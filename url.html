<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	<form action="#" method="get" accept-charset="utf-8">
		<input type="file" name="file" multiple>
		<br>
		<input type="submit" value="提交">
	</form>
	<pre> </pre>
	<img src="" alt="" />
	<script>
		var ipt = document.querySelector('input[type="file"]'),
			pre = document.querySelector('pre'),
			img = document.querySelector('img');
		ipt.onchange = function(){
			console.log(this.files);
			for(var i=0;i<this.files.length;i++){
				var  _file = this.files[i]
				
				if(_file.type.indexOf('image/') !== -1){
					console.log(_file.type,_file.name,_file.size);
					var file = new FileReader();
					file.readAsDataURL(this.files[i])
					file.onload = function(e){
						pre.innerText += e.target.result + '\n';
						img.src = e.target.result
					}
				}
			}
		}
	</script>
	</body>
</html>
